<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello there</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="shortcut icon" type="image/png" href="feelsgoodman1.png"/>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-debug.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <span class="navbar-brand" style="pointer-events: none">SirKeztrel</span>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" data-bind="click: function(){vm.nav('home')}" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <!--<li class="nav-item">-->
            <!--<a class="nav-link" href="#">//Link</a>-->
            <!--</li>-->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Utilities
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" data-bind="click: function(){vm.nav('cd')}" href="#">
                        cd
                        <button class="btn" data-bind="click: function(data, event){vm.navTo('cd', event)}" style="float: right; transform: scale(0.7,0.7) translate(34px,-9px)">></button>
                    </a>
                    <a class="dropdown-item" data-bind="click: function(){vm.nav('todo')}" href="#">
                        todo
                        <button class="btn" data-bind="click: function(data, event){vm.navTo('todo', event)}" style="float: right; transform: scale(0.7,0.7) translate(34px,-9px)">></button>
                    </a>
                    <!--<a class="dropdown-item" href="#">//Item 3</a>-->
                    <!--<div class="dropdown-divider"></div>-->
                    <!--<a class="dropdown-item" href="#">//Something else here</a>-->
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bind="click: function(){vm.nav('about')}" href="#">About</a>
            </li>
            <!--<li class="nav-item">-->
            <!--<a class="nav-link disabled" href="#">//Disabled</a>-->
            <!--</li>-->
        </ul>
        <!--<div>send memes</div>-->
    </div>
</nav>
<div data-bind="visible: loading" style="text-align: center"><h1>loading...</h1></div>
<div style="width: 100%; height: calc(100vh - 60px)" data-bind="visible: nav() !== 'home'">
    <iframe id="i" onload="this.style.opacity=1;typeof vm !== 'undefined' ? vm.loading(false) : null;"
            style="border-width: 0; width: 100%; height: 100%;"></iframe>
</div>
<div data-bind="visible: nav() === 'home'" class="container">
    <div class="col-md-12">
        <h1>Lorem Ipsum</h1>
        <div id="lorem"><p>Lorem Ispum is a choke artist. It chokes! I will write some great placeholder text – and
            nobody writes
            better placeholder text than me, believe me – and I’ll write it very inexpensively. I will write some
            great, great text on your website’s Southern border, and I will make Google pay for that text. Mark my
            words.
        </p>
            <p>I think the only card she has is the Lorem card. My text is long and beautiful, as, it has been well
                documented, are various other parts of my website.
            </p>
            <p>I was going to say something extremely rough to Lorem Ipsum, to its family, and I said to myself, "I
                can't do it. I just can't do it. It's inappropriate. It's not nice." Trump Ipsum is calling for a total
                and complete shutdown of Muslim text entering your website. I think the only difference between me and
                the other placeholder text is that I’m more honest and my words are more beautiful.
            </p>
            <p>We have so many things that we have to do better... and certainly ipsum is one of them.
            </p>
            <p>When other websites give you text, they’re not sending the best. They’re not sending you, they’re
                sending words that have lots of problems and they’re bringing those problems with us. They’re bringing
                mistakes. They’re bringing misspellings. They’re typists… And some, I assume, are good words. An
                'extremely credible source' has called my office and told me that Lorem Ipsum's birth certificate is a
                fraud. The concept of Lorem Ipsum was created by and for the Chinese in order to make U.S. design jobs
                non-competitive. My text is long and beautiful, as, it has been well documented, are various other parts
                of my website. I know words. I have the best words.
            </p>
        </div>
    </div>
</div>
<a id="dummyLink" style="display: none" target="_blank"></a>
<script>
    let srcMap = {
            cd: 'cd/cd.html',
            todo: 'todo/todo/index.html',
            about: 'about.html'
        },
        VM = function () {
            let self = this;
            self.nav = ko.observable('home');
            self.loading = ko.observable(false);
            self.doNav = ko.computed(function () {
                if (srcMap[self.nav()]) {
                    self.loading(true);
                    let iFrame = document.getElementById('i');
                    iFrame.style.opacity = '0';
                    iFrame.contentWindow.onbeforeunload = null;
                    iFrame.src = srcMap[self.nav()];
                }
            });
            self.navTo = function (str, e) {
                e.stopPropagation();
                let l = document.getElementById('dummyLink');
                l.href = srcMap[str];
                l.click();
            }
        },
        vm = new VM();
    ko.applyBindings(vm);
</script>
</body>
</html>